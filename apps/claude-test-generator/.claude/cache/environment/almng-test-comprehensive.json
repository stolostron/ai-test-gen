{
  "environment_assessment": {
    "cluster_info": {
      "name": "almng-test.dev09.red-chesterfield.com",
      "console_url": "https://console-openshift-console.apps.almng-test.dev09.red-chesterfield.com",
      "api_url": "https://api.almng-test.dev09.red-chesterfield.com:6443",
      "openshift_version": "4.19.9",
      "kubernetes_version": "v1.32.7",
      "node_count": 6,
      "control_plane_nodes": 3,
      "worker_nodes": 3,
      "cluster_age": "4h9m"
    },
    "acm_installation": {
      "status": "INSTALLED_AND_RUNNING",
      "version": "2.14.0",
      "operator_version": "advanced-cluster-management.v2.14.0",
      "multicluster_engine_version": "2.9.0",
      "installation_age": "3h8m",
      "hub_status": "Running",
      "components": {
        "cluster_permission": {
          "enabled": true,
          "status": "Available",
          "pod_running": true
        },
        "console": {
          "enabled": true,
          "status": "Available",
          "pods_running": 2
        },
        "fine_grained_rbac_preview": {
          "enabled": false,
          "status": "FEATURE_DISABLED"
        },
        "grc_policy": {
          "enabled": true,
          "status": "Available"
        },
        "search": {
          "enabled": true,
          "status": "Available"
        },
        "multicluster_observability": {
          "enabled": true,
          "status": "Available"
        }
      },
      "namespaces": [
        "acmqe-gogs",
        "multicluster-engine",
        "open-cluster-management-agent",
        "open-cluster-management-agent-addon",
        "open-cluster-management-backup", 
        "open-cluster-management-global-set",
        "open-cluster-management-hub",
        "open-cluster-management-policies",
        "ocm"
      ]
    },
    "rbac_infrastructure": {
      "clusterpermission_crd": "PRESENT",
      "clusterpermission_instances": 0,
      "cluster_permission_controller": {
        "status": "Running",
        "image": "quay.io:443/acm-d/acm-cluster-permission-rhel9@sha256:0e1eba23e0e8454f2dec240704e7ccc922351d58880f72514d3b2bc30c9e995e",
        "namespace": "ocm"
      },
      "fine_grained_rbac_feature": "DISABLED",
      "multiclusterrole_assignment_crd": "NOT_FOUND",
      "rbac_related_clusterroles": [
        "open-cluster-management:cluster-permission:cluster-permission"
      ],
      "rbac_related_clusterrolebindings": [
        "open-cluster-management:cluster-permission:cluster-permission"
      ]
    },
    "cnv_virtualization": {
      "cnv_namespaces": "NOT_FOUND",
      "cnv_operators": "NOT_FOUND", 
      "kubevirt_crds": [
        "kubevirtclusters.infrastructure.cluster.x-k8s.io",
        "kubevirtclustertemplates.infrastructure.cluster.x-k8s.io",
        "kubevirtmachines.infrastructure.cluster.x-k8s.io",
        "kubevirtmachinetemplates.infrastructure.cluster.x-k8s.io"
      ],
      "status": "CNV_NOT_INSTALLED_BUT_CLUSTER_API_KUBEVIRT_PRESENT",
      "assessment": "Cluster-API KubeVirt providers available but no CNV operator installed"
    },
    "managed_clusters": {
      "total_clusters": 1,
      "clusters": [
        {
          "name": "local-cluster",
          "hub_accepted": true,
          "joined": true,
          "available": true,
          "urls": ["https://api.almng-test.dev09.red-chesterfield.com:6443"],
          "age": "3h7m"
        }
      ],
      "klusterlet_status": "Running"
    },
    "security_identity": {
      "identity_providers": "NOT_CONFIGURED",
      "authentication": "kubeadmin_only",
      "oauth_configuration": "DEFAULT", 
      "current_user": "kubeadmin",
      "cluster_roles_count": "> 1000",
      "rbac_configuration": "STANDARD_OPENSHIFT"
    },
    "testing_readiness": {
      "cluster_resources": {
        "cpu_capacity": "48_cores_total",
        "memory_capacity": "> 180GB_total",
        "node_health": "ALL_READY",
        "storage": "Available"
      },
      "network_connectivity": "FUNCTIONAL",
      "api_access": "FUNCTIONAL", 
      "console_access": "FUNCTIONAL",
      "acm_console_route": "acm-cli-downloads.apps.almng-test.dev09.red-chesterfield.com",
      "logging_monitoring": "AVAILABLE"
    },
    "feature_gaps_acm_20640": {
      "rbac_ui_components": "MISSING",
      "fine_grained_rbac": "FEATURE_DISABLED",
      "multicluster_role_assignment": "NOT_AVAILABLE",
      "rbac_ui_testing_capability": "LIMITED_TO_BASIC_CLUSTERPERMISSION",
      "cnv_rbac_integration": "NOT_AVAILABLE_CNV_NOT_INSTALLED",
      "assessment": "Environment lacks ACM-20640 RBAC UI features - only basic cluster-permission controller present"
    },
    "recommendations": {
      "enable_fine_grained_rbac": "Set fine-grained-rbac-preview component to enabled: true in MultiClusterHub",
      "install_cnv": "Install Container Native Virtualization operator for CNV RBAC testing",
      "configure_identity_providers": "Set up LDAP/OAuth identity providers for realistic RBAC testing",
      "create_test_users": "Create test users and groups for RBAC validation",
      "deploy_additional_clusters": "Add managed clusters for multicluster RBAC testing"
    },
    "acm_crd_count": 56,
    "assessment_timestamp": "2025-08-28T18:05:00Z"
  }
}
EOF < /dev/null