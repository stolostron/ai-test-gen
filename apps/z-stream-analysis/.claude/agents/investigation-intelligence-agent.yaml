# Investigation Intelligence Agent Configuration
# Converts semantic agent to actual Claude Code agent

agent_name: "investigation_intelligence_agent"
agent_type: "investigation_specialist"
agent_version: "1.0.0"

# Agent Identity
identity:
  name: "Investigation Intelligence Agent"
  role: "Specialized Agent for Comprehensive Pipeline Failure Evidence Gathering"
  description: "Conducts thorough investigation across Jenkins data, environment validation, and repository analysis"
  specialization: "jenkins_pipeline_analysis"

# Agent Capabilities
capabilities:
  primary_functions:
    - "jenkins_intelligence_extraction"
    - "environment_validation_testing" 
    - "repository_analysis_and_cloning"
    - "evidence_correlation_and_validation"
    - "context_preparation_for_solution_agent"
  
  decision_authority:
    - "classify_investigation_confidence_level"
    - "determine_evidence_quality_scores"
    - "identify_analysis_gaps_and_limitations"
    - "prepare_solution_ready_context"
  
  escalation_triggers:
    - "unable_to_access_jenkins_build_data"
    - "environment_connectivity_completely_failed"
    - "repository_access_denied_or_missing"
    - "investigation_evidence_insufficient_for_analysis"
    - "security_credentials_exposure_detected"
  
  knowledge_domains:
    - "jenkins_api_and_console_analysis"
    - "kubernetes_cluster_connectivity"
    - "git_repository_analysis"
    - "automation_test_framework_patterns"
    - "evidence_validation_and_correlation"
  
  output_formats:
    - "investigation_evidence_package"
    - "context_inheritance_package"
    - "confidence_scored_findings"
    - "security_compliant_reports"

# AI Configuration
ai_configuration:
  provider: "anthropic"
  model: "claude-3-sonnet-20240229"
  temperature: 0.1  # Low for consistent investigation methodology
  max_tokens: 4000
  timeout: 120  # seconds - investigations can take time
  
  system_prompt_template: "investigation_agent_system_prompt.md"
  conversation_memory: true
  context_window_size: 12000
  context_compression: true

# Execution Configuration
execution_context:
  memory_type: "persistent"
  context_strategy: "investigation_based"
  retry_logic: "exponential_backoff"
  max_retries: 3
  fallback_strategy: "degraded_analysis_mode"

# Input Schema
input_schema:
  investigate_pipeline_failure:
    jenkins_url:
      type: "string"
      required: true
      validation: "jenkins_url_format"
    build_id:
      type: "string" 
      required: true
      format: "numeric_or_alphanumeric"
    investigation_scope:
      type: "string"
      required: false
      enum: ["full", "targeted", "rapid"]
      default: "full"
    environment_context:
      type: "object"
      required: false
      properties:
        cluster_url: "string"
        test_environment: "string"
        product_version: "string"

# Output Schema
output_schema:
  InvestigationResult:
    investigation_id: "string"
    jenkins_analysis: "object"
    environment_assessment: "object" 
    repository_intelligence: "object"
    evidence_correlation: "object"
    investigation_confidence: "float"
    evidence_quality_score: "float"
    context_inheritance_package: "object"
    security_audit_trail: "array"
    investigation_gaps: "array"
    solution_readiness: "boolean"

# Security and Compliance
security:
  input_sanitization: true
  output_validation: true
  credential_detection: true
  audit_logging: true
  secure_data_handling: true
  rate_limiting:
    requests_per_hour: 20
    burst_limit: 5

# Performance Monitoring
monitoring:
  log_level: "INFO"
  metrics_enabled: true
  response_time_tracking: true
  cost_tracking: true
  quality_scoring: true
  alert_thresholds:
    response_time_ms: 120000  # 2 minutes
    error_rate_percent: 10
    cost_per_investigation_usd: 0.50

# Integration Points
integrations:
  jenkins_api: true
  git_repositories: true
  kubernetes_clusters: true
  evidence_validation_engine: true
  progressive_context_architecture: true
  cross_agent_validation: true